<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPXTESTER</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        textarea { width: 100%; height: 150px; }
        button { margin-top: 10px; padding: 10px; }
        #output { margin-top: 20px; padding: 10px; border: 1px solid #ccc; }
    </style>
</head>
<body>
    <h2>NPXTESTER</h2>
    <textarea id="jsCode" placeholder="script"></textarea>
    <br>
    <button onclick="executeCode()">Run Code</button>
    <div id="output"></div>

    <script>
        function executeCode() {
            const code = document.getElementById('jsCode').value;
            const outputDiv = document.getElementById('output');
            
            try {
                const result = eval(code);
                outputDiv.innerHTML = '<strong>Output:</strong> ' + result;
            } catch (error) {
                outputDiv.innerHTML = '<strong>Error:</strong> ' + error;
            }
        }

        // ionic /capacitor

        import { createApp } from 'vue';
        import App from './App.vue';
        import { App as CapacitorApp } from '@capacitor/app';
        import { NativeBiometric } from "capacitor-native-biometric";
        
        const app = createApp(App);
        console.log("IM LOADED");
        CapacitorApp.addListener('appUrlOpen', async (event) => {
          console.log('App opened via deep link:', event.url);
        
          if (event.url === "faceid-login") {
            try {
              // Check if biometrics are available
              const isAvailable = await NativeBiometric.isAvailable();
              if (!isAvailable) {
                console.log("Biometric authentication not available");
                return;
              }
        
              // Authenticate user
              const result = await NativeBiometric.verifyIdentity({
                reason: "Authenticate to continue",
                title: "Biometric Login",
                subtitle: "Use Face ID or Touch ID",
                description: "Secure authentication required",
              });
        
              console.log("Authentication Success:", result);
            } catch (error) {
              console.error("Biometric Auth Error:", error);
            }
          }
        });
        
        app.mount('#app');

    </script>
</body>
</html>
